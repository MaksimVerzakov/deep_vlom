Высшее профессиональное образование
БАКАЛАВРИАТ
В. Г. БАУЛА, А. Н. ТОМИЛИН,
Д. Ю. ВОЛКАНОВ
Архитектура ЭВМ
и операционные среды
Учебник
Допущено
Учебно-методическим объединением
по классическому университетскому образованию
в качестве учебника для студентов высших учебных заведений,
обучающихся по направлениям 010400 «Прикладная математика
и информатика» и 010300 «Фундаментальная информатика
и информационные технологии»
УДК	 004.2(075.8)
ББК	 32.973-02я73
	Б291
Рецензент—
зав. отделом Вычислительного центра им. А. А. Дородницына РАН
(ВЦ РАН) д-р физ.-мат. наук, проф. В. А. Серебряков)
	
Баула В. Г.
Б291		 Архитектура ЭВМ и операционные среды : учебник для студ.
высш. учеб. заведений / В. Г. Баула, А. Н. Томилин, Д. Ю. Вол­
канов. — М. : Издательский центр «Ака­ емия», 2011. — 336 c. (Сер.
д
Бакалавриат)
ISBN 978-5-7695-8143-4
Учебник создан в соответствии с Федеральным государственным образова-
тельным стандартом по направлениям подготовки «Прикладная математика и
информатика», «Фундаментальная информатика и информационные техно-
логии» (квалификация «бакалавр»).
Приведены необходимые сведения по основам архитектур ЭВМ и операци-
онным средам. Под операционной средой понимается совокупность аппаратуры
ЭВМ и системы программирования. Кроме того, рассмотрены основы програм-
мирования на языке Ассемблер, а также способы отображения структур данных
и структур управления языка высокого уровня (Паскаля) на язык Ассемблера.
Для студентов учреждений высшего профессионального образования.
Может быть использован также для самостоятельного изучения основ архи-
тектуры ЭВМ и систем программирования.
УДК 004.2(075.8)
ББК 32.973-02я73
Учебное издание
Баула Владимир Георгиевич,
Томилин Александр Николаевич,
Волканов Дмитрий Юрьевич
Архитектура ЭВМ и операционные среды
Учебник
Технический редактор О. Н. Крайнова.
Компьютерная верстка: Л. А. Смирнова. Корректор А. П. Сизова
Изд. No 101115922. Подписано в печать 29.07.2011. Формат 60 × 90/16.
Гарнитура «Таймс». Печать офсетная. Бумага офс. No 1. Усл. печ. л. 21,0.
Тираж 1 000 экз. Заказ No
ООО «Издательский центр «Академия». www.academia-moscow.ru
125252, Москва, ул. Зорге, д. 15, корп. 1, пом. 26б. Адрес для корреспонденции: 129085,
Москва, пр-т Мира, 101В, стр. 1, а/я 48. Тел./факс: (495) 648-0507, 616-00-29.
Санитарно-эпидемиологическое заключение No РОСС RU. AE51. H 14964 от 21.12.2010.
Отпечатано в типографии «Идел-Пресс»
Оригинал-макет данного издания является собственностью Издательского центра
«Академия», и его воспроизведение любым способом без согласия правообладателя запрещается
ISBN 978-5-7695-8143-4
© Баула В. Г., Томилин А. Н., Волканов Д. Ю., 2011
© Образовательно-издательский центр «Академия», 2011
© Оформление. Издательский центр «Академия», 2011
Предисловие
Данная книга представляет собой учебник по архитектуре ЭВМ и
операционным средам. Книга написана на основе курса лекций «Ар-
хитектура ЭВМ и язык Ассемблера», читаемого для студентов фа-
культета Вычислительной математики и кибернетики Московского
государственного университета им. М. В.  Ломоносова. Необходимо
отметить, что по данной теме существует достаточно об­ ирная ли-
ш
тература, посвященная программированию на Ассемблере, однако
явно недостаточно учебной литературы собственно по архитектуре
ЭВМ и системам программирования. Заметим также, что существую-
щая литература ориентирована в основном на технические вузы, а не
на университеты. Предлагаемая книга призвана восполнить этот про-
бел.
Под термином «операционная среда» (operational environment) в
данной книге будем понимать совокупность аппаратуры компьютера
и программного обеспечения, предоставляющего пользователю сред-
ства разработки и выполнения прикладных программ. Операционная
среда включает в себя компоненты как из операционной системы
(файловую систему, некоторые утилиты), так и из системы програм-
мирования (язык-оболочку, компиляторы, языки программирования
и т. д.). Операционная среда скрывает от пользователя многие детали
управления вычислительными процессами и ресурсами вычислитель-
ной системы.
В учебнике вместе с архитектурой ЭВМ изучается и язык низкого
уровня (Ассемблер). Это связано в основном с тем обстоятельством,
что ЭВМ является исполнителем алгоритма на машинном языке,
поэтому знание Ассемблера, который близок по своему уровню к
языку машины, необходимо для лучшего понимания архитектуры
ЭВМ.
На языке Ассемблера часто приводятся и примеры, иллюстрирую-
щие те или иные особенности архитектуры конкретной ЭВМ. В то
же время в изложении материала по системам программирования
язык Ассемблера выполняет вспомогательную роль, так как основное
внимание уделяется не изучению этого языка, а способам отображе-
ния конструкций языка высокого уровня (в основном Паскаля) на
язык низкого уровня и, в конечном счете, на язык машины. Поэтому
в данной книге излагается только относительно небольшое подмно-
жество языка Ассемблера, и для профессионального использования
этого языка учащимся необходимо изучение дополнительной лите-
ратуры (рекомендуется книга [16]).
3
Изложение материала по архитектуре ЭВМ проводится сначала
по возможности в самом общем виде, безотносительно к конкретным
компьютерам, а затем приводятся примеры, как та или иная особен-
ность архитектуры реализована в современных ЭВМ. Так как в на-
стоящее время в большинстве массовых ЭВМ установлены процес-
соры фирмы Intel, то архитектура именно этого процессора (в основ-
ном его младшей модели) используется для изучения конкретных
ЭВМ в первую очередь.
Большое внимание уделяется обоснованию тех или иных архитек-
турных решений, показывается необходимость появления определен-
ных аппаратных возможностей, их нацеленность на решение встаю-
щих перед вычислительной техникой проблем. Показывается исто-
рическое развитие основных аппаратных решений, эволюция главных
понятий от первых простых ЭВМ до современных компьютеров.
Архитектура ЭВМ неразрывно связана с особенностями выпол-
нения на компьютере машинных программ. Исходя из этого, рас-
сматриваются элементы системы программирования. Показывается
путь, который проходит программа, написанная на некотором языке
программирования, по всей цепочке, от исходного текста, через объ-
ектный и загрузочный модуль, до этапа счета. Большое внимание
уделяется модульному программированию, способам распределения
памяти, статической и динамической загрузке и связыванию. Кроме
того, в рамках системы программирования изучаются макросредства
языков программирования на примере макросредств языка Ассем-
блера.
От читателей данной книги требуется знание основ теории алго-
ритмов, хорошее знание одного из языков высокого уровня (предпо-
лагается язык Паскаль) и практические навыки при решении простых
задач на этом языке.
Гл а в а 1
Понятие об архитектуре ЭВМ
Эта книга называется «Архитектура ЭВМ и операционные среды»,
и сначала нам нужно определить, что мы будем понимать под архи-
тектурой компьютера. На бытовом уровне термин «архитектура» у
большинства людей прочно ассоциируется с различными зданиями
и другими инженерными сооружениями. Так, можно говорить об
архитектуре готического собора, Эйфелевой башни или оперного
театра. В других областях этот термин применяется достаточно редко,
однако для компьютеров понятие «архитектура ЭВМ» уже прочно
устоялось и широко используется.
Заметим сначала, что в общем смысле архитектура существует у
любого достаточно сложного объекта, состоящего из отдельных,
взаимодействующих между собой частей (компонентов). Так, опреде-
ляя на бытовом уровне понятие «архитектура ЭВМ», обычно говорят,
что архитектура — это все компоненты компьютера, их устройство,
выполняемые ими функции, а также взаимосвязи между этими ком-
понентами. Сейчас мы разберемся, почему такое поверхностное
определение архитектуры нас не будет удовлетворять.
Дело в том, что понятие архитектуры чего-либо существует не
само по себе, а только в паре с другим понятием. Такая ситуация
встречается достаточно часто. Известно, например, что понятие
алгоритма неразрывно связано с понятием исполнителя алгорит-
ма. При этом одна и та же запись для одного исполнителя будет
алгоритмом, а для другого — нет (например, если этот другой ис-
полнитель не умеет выполнять некоторые предписания в записи
алгоритма).
Так и в нашем случае понятие архитектуры неразрывно связано с
тем человеком (или теми людьми), которые изучают или рассматри-
вают эту архитектуру. Ясно, что для разных людей архитектура одно-
го и того же объекта может выглядеть совершенно по-разному. На-
пример, обычный жилец многоэтажного дома не без основания по-
лагает, что этот дом состоит из фундамента, стен и крыши, имеет
этажи, на каждом этаже есть квартиры, присутствует лестница, лифт,
в квартирах есть комнаты, окна, двери и т. д.
5
Совсем по-другому видит архитектуру этого же дома инженер,
ответственный за его эксплуатацию. Он, например, знает, что неко-
торые перегородки между комнатами можно убрать при переплани-
ровке квартиры, а другие перегородки являются несущими, если их
убрать — дом рухнет. Инженер знает, где внутри стен проходят элек-
трические провода, трубы водяного отопления, как обеспечивается
противопожарная безопасность, каким образом к дому подводятся
инженерные коммуникации и многое другое.
Отсюда можно сделать вывод, что, изучая какой-либо объект,
часто бывает удобно выделить различные уровни рассмотрения ар-
хитектуры этого объекта. Обычно удобно выделить три таких уровня,
назовем их внешний, концептуальный и внутренний. В качестве
примера давайте рассмотрим архитектуру какого-нибудь всем хорошо
известного объекта, например, легкового автомобиля, на этих трех
уровнях.
Внешний уровень. На этом уровне видит архитектуру легкового
автомобиля обычный пассажир. Он знает, что машина имеет колеса,
кузов, сиденья, руль, мотор и другие части. Он понимает, что для
работы автомобиля в него надо обязательно заливать бензин, знает
назначение дворников на ветровом стекле, ремней безопасности и
т. д. И этого ему вполне достаточно, чтобы успешно пользоваться
машиной, главное — правильно назвать водителю нужный адрес.
Концептуальный уровень. Примерно на этом уровне видит ар-
хитектуру машины ее водитель. В отличие от пассажира он знает, что
в его автомобиль нужно заливать вовсе не бензин, а дизельное то-
пливо (а для электромобиля нужно вообще «заливать» только элек-
тричество). Кроме того, в автомобиль необходимо еще заливать
масло определенной марки и специальную воду для стеклоочистите-
лей. Водитель знает назначение всех органов управления машиной,
марку топлива, температуру окружающего воздуха, ниже которой
необходимо заливать в машину особый сорт масла, и т. д. Обычно
водитель обладает также некоторыми знаниями, позволяющими вы-
полнить несложный ремонт машины. Ясно, что наш водитель видит
архитектуру своего автомобиля совсем иначе, нежели обычный пас-
сажир.
Внутренний уровень. На этом уровне автомобиль видит инженер-
конструктор, ответственный за его разработку. Он знает марку ме-
талла, из которого изготавливаются цилиндры двигателя, зависимость
отдаваемой мотором мощности от марки топлива, допустимую на-
грузку на отдельные узлы автомобиля, антикоррозийные свойства
внешнего корпуса, особенности работы системы безопасности и
многое другое. Ясно, что обычный водитель машины, а тем более ее
пассажир, в своей жизни вполне может обойтись без всех этих специ-
альных знаний.
Не надо думать, что один уровень видения архитектуры «хоро-
ший», а другой — «плохой». Каждый из них необходим и достаточен
6
для конкретного применения рассматриваемого объекта1. Знать объ-
ект на более глубоком уровне архитектуры часто бывает даже вредно,
так как получить эти знания обычно достаточно трудно, и все усилия
пропадут, если в дальнейшем эти знания не понадобятся. Хотя и
говорят, что знания лишними не бывают, но лишними часто могут
оказаться усилия, потраченные на приобретение этих знаний.
Для уровня университетского образования необходимо, чтобы его
выпускники, изучая какой-либо объект, достаточно ясно представ-
ляли себе, на каком уровне архитектуры они его рассматривают и
достаточен ли этот уровень для практической работы с этим объектом.
При необходимости, разумеется, надо перейти на более глубокий
уровень рассмотрения изучаемого объекта.
Перейдем теперь ближе к предмету нашей книги — архитектуре
компьютеров. Все люди, которые так или иначе используют компью-
теры в своей деятельности и имеют понятие об их архитектуре, обыч-
но называются пользователями. Ясно, что в зависимости от того, на
каком уровне они видят архитектуру компьютера, всех пользователей
можно, хотя, конечно, и достаточно условно, разделить на уровни
или группы (наверное, вы уже не будете удивлены, что этих групп
обычно тоже три). Как правило, в научной литературе выделяют
следующие группы пользователей.
Конечные пользователи. Для успешного использования компью-
теров этим пользователям (называемым также пользователями-непро­
грам­ истами), как видно из названия, не нужно уметь програм­
м
мировать. Обычно это специалисты в конкретных предметных об-
ластях — физики, биологи, лингвисты, финансовые работники либо
люди, использующие компьютеры в сфере образования, досуга и
развлечений (они имеют дело с обучающими программами, компью-
терными играми, навигаторами по Интернету и т. д.). В своей работе
все они используют компьютер, снабженный соответствующим, как
говорят, прикладным программным обеспечением (application soft-
ware). Это различные базы данных, текстовые редакторы, пакеты
прикладных программ, системы автоматического перевода, обучаю-
щие, игровые и музыкальные программы и т. п. Таким пользователям
достаточно видеть архитектуру компьютеров на внешнем уровне, этих
людей абсолютное большинство, более 90 % общего числа всех поль-
зователей. Вообще говоря, что бы там себе не воображали пользова-
1
Не следует путать различные уровни рассмотрения объекта с рассмотрением
этого же объекта с разных сторон (с разных точек зрения). Например, мы можем
рассматривать легковой автомобиль, сравнивая его с другими автомобилями, с точки
зрения его экономичности, по дизайну и удобству эксплуатации, соотношению цены
и качества и т. д. При рассмотрении объекта с некоторой стороны остальные стороны
могут и совсем не приниматься во внимание. Здесь можно вспомнить известную вос-
точную притчу о трех слепых, которых подвели к слону и попросили описать его. Один
слепой ощупал бок слона и сказал, что он похож на стену, второй, который стоял у
ноги, утверждал, что слон похож на колонну, а третий сказал, что слон похож на тол-
стый шланг, так как держался за хобот.
7
тели других уровней, компьютеры разрабатываются и выпускаются
для нужд именно этих пользователей-непрограммистов (конечных
потребителей всей компьютерной индустрии).
Прикладные программисты. Как уже ясно из названия, эти
пользователи разрабатывают для конечных пользователей приклад-
ное программное обеспечение. В своей работе они чаще всего ис-
пользуют различные языки программирования высокого уровня
(Паскаль, Фортран, Си, языки для работы с базами данных и т. д.)
и соответствующие системы программирования (с этим понятием
мы будем достаточно подробно знакомиться в нашей книге). При-
кладным программистам достаточно видеть архитектуру компьюте-
ров на концептуальном уровне. Можно примерно считать, что
прикладных программистов менее 10 % числа всех пользователей.
Изучив программирование на языке Паскаль, вы должны уже до-
статочно хорошо представлять себе архитектуру компьютера на этом
уровне. Попробуйте, используя ваш программистский опыт, сами
сформулировать отличия видения архитектуры ЭВМ на этом уров-
не по сравнению с предыдущим уровнем пользователей-непрограм­
мистов.
Системные программисты. Это самая небольшая (менее 1 %), но
и наиболее квалифицированная в программировании группа поль-
зователей, которая видит архитектуру ЭВМ на внутреннем уровне.
Основная деятельность системных программистов заключается в
разработке системного программного обеспечения, которое предна-
значено для автоматизации процесса программирования (это так
называемые системы программирования — тот инструмент, с помо-
щью которого прикладные программисты разрабатывают и пишут
свои программы для конечных пользователей). Системное программ-
ное обеспечение используется и для эффективного управления ре-
сурсами ЭВМ (это операционные системы). Заметим, что системы
программирования, по аналогии с промышленным производством,
можно образно сравнить со средствами производства остальных
программ.
Разумеется, можно выделить и другие уровни видения архитекту-
ры компьютера, не связанные с его использованием. В качестве при-
мера можно указать уровень инженера — разработчика аппаратуры
компьютера, уровень физика, исследующего новые материалы для
построения схем ЭВМ, и т. д. Эти уровни изучаются на других специ-
альностях, и непосредственно нас интересовать не будут. Мы станем
изучать в основном второй и третий уровни, но иногда, в качестве
примеров, мы совсем немного будем рассматривать и эти более глу-
бокие уровни видения архитектуры ЭВМ.
Далее укажем те способы, с помощью которых мы будем описывать
архитектуру компьютера в нашей книге. Во-первых, можно исполь-
зовать словесные описания, а также чертежи, графики, рисунки,
блок-схемы и т. д. Именно таким способом в научной литературе
8
обычно и описывается архитектура ЭВМ для пользователей разного
уровня.
Во-вторых, для описания архитектуры компьютера на внутреннем
уровне можно с определенным успехом использовать язык машины
и близкий к нему язык Ассемблера. Дело в том, что компьютер яв-
ляется исполнителем алгоритма на языке машины и архитектуру
компьютера легче понять, если знать язык, на котором записывают-
ся эти алгоритмы. В нашей книге мы будем изучать язык Ассемблера
в основном именно для лучшего понимания архитектуры ЭВМ. Для
этого нам понадобится не полный язык Ассемблера, а лишь относи-
тельно небольшое подмножество этого языка, достаточное для на-
писания простейших программ.
В-третьих, можно проводить описание архитектуры ЭВМ и с по-
мощью формальных языков. Из курса по основам теории алгоритмов
известно, как важна формализация некоторого понятия, что позво-
ляет значительно поднять строгость его описания и устранить раз-
личия в понимании этого понятия разными людьми. В основном
формальные языки используются для описания архитектуры ЭВМ и
ее компонентов на инженерном уровне, эти языки достаточно слож-
ны, и их изучение выходит за рамки нашего предмета1.
Вы, конечно, уже знаете, что сейчас производятся самые разные
компьютеры. Определим теперь, архитектуру каких именно ЭВМ мы
будем изучать в нашей книге. Сначала необходимо отметить, что мы
будем рассматривать только так называемые универсальные цифро-
вые (дискретные) компьютеры, которые в настоящее время состав-
ляют абсолютное большинство из всех выпускаемых и используемых
ЭВМ. С другими способами организации вычислительных машин, в
частности, с так называемыми аналоговыми (непрерывными) вы-
числительными машинами, можно познакомиться, например, по
книге [11].
Итак, в нашей книге мы построим изучение архитектуры ЭВМ
таким образом.
1.	 Сначала рассмотрим архитектуру некоторой абстрактной маши-
ны (машины фон Неймана).
2.	 Далее на базе машины фон Неймана построим и изучим специ-
альные учебные ЭВМ, которые по своей архитектуре близки к
самым первым из выпускавшихся цифровых компьютеров. На
основе этих учебных ЭВМ мы поймем основные подходы к ор-
ганизации архитектуры компьютеров. Одну из этих учебных
машин мы рассмотрим более подробно, чтобы научиться писать
для нее простейшие полные программы на языке машины, что
поможет нам лучше понять архитектуру первых компьютеров. Это
очень важный момент, так как архитектура первых ЭВМ в той
1
В качестве примера можно назвать достаточно широко распространенный язык
описания и моделирования электронных устройств Verilog.
9
или иной степени лежит в основе конструкций и всех современ-
ных компьютеров.
3.	 Затем достаточно подробно изучим архитектуру первой (младшей)
модели конкретного компьютера фирмы Intel, старшие модели
этой ЭВМ наиболее распространены в настоящее время.
4.	 В заключении нашей книги рассмотрим отличительные особен-
ности архитектуры современных компьютеров, а также проведем
некоторый достаточно простой сравнительный анализ архитек-
туры основных классов цифровых универсальных ЭВМ.
Контрольные Вопросы
1.	 Для чего необходимо выделять различные уровни видения архитектуры
компьютера?
2.	 Сформулируйте различия в уровнях видения архитектуры компьютера
для конечного пользователя.
3.	 Каковы различия в уровнях видения архитектуры компьютера для при-
кладного программиста?
4.	 В каком смысле аппаратное и программное обеспечение может быть
эквивалентно? В каком они эквивалентны?
5.	 Составьте краткое резюме о трех исследователях, которые, по вашему
мнению, оказали наибольшее влияние на эволюцию аппаратного обе-
спечения. Объясните, почему вы выбрали именно их.
6.	 Составьте краткое резюме о трех исследователях, которые, по вашему
мнению, оказали наибольшее влияние на эволюцию программного обе-
спечения. Объясните, почему вы выбрали именно их.

