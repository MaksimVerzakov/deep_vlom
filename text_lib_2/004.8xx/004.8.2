Сборник статей третьей Всероссийской научной конференции «Нечеткие системы и
мягкие вычисления». Том II. Волгоград: 2009, с. 57 – 63.
УДК 004.8
Задача о муравьеде и муравьях
С. И. Попов, Ю. И. Попов, А. А. Шалыто
Санкт-Петербургский государственный университет информационных технологий,
механики и оптики
При решении различных задач управления используется искусственный
интеллект. В качестве одного из вариантов управления применяются
автоматы Мили [1]. На каждое входное воздействие автомат этого типа
выдает выходное воздействие и переходит в следующее состояние. Человеку
часто не под силу построить «умный» автомат, который управляет машиной
в соответствии со сложившейся обстановкой, так как автомат может иметь
большое число входных воздействий, состояний и переходов. Поэтому
авторы предлагают генерировать автоматы Мили с помощью генетических
алгоритмов [2].
Авторами была сформулирована «Задача о муравьеде и муравьях» и
разработано инструментальное средство для ее изучения. Эта задача является
обобщением «Задачи об умном муравье-3» [3, 4].
Задан двумерный тор определенной размерности с координатной сеткой,
которая делит поверхность на квадраты. На торе располагается муравьед, и
случайным образом размещаются яблоки и муравьи (рис. 1). Муравьед и
каждый из муравьев управляются своими автоматами.
Особи (муравьед и муравьи) видят перед собой по восемь клеток: две
слева, две справа, две спереди и по одной спереди по диагонали. Они могут
совершать одно из трех действий:
• сделать шаг вперед на одну клетку;
• повернуть налево;
• повернуть направо.
Цель муравьев – съесть максимальное число яблок за ограниченное
число шагов. Цель муравьеда – помешать им это сделать, съев как можно
больше муравьев. Особи едят пищу, «наступая» на нее. При этом каждый из
муравьев не может «наступить» на клетку, уже содержащую другую особь. В
этом случае он погибает.
1
Рис. 1. Тор с муравьедом, муравьями и яблоками. Красный треугольник
изображает муравьеда, красные клетки – это те клетки, которые он видит.
Синие треугольники – муравьи, синие клетки – та часть поверхности,
которую видят муравьи. Зеленые кружочки обозначают места расположения
яблок.
Функция приспособленности автомата, управляющего муравьем, равна
сумме числа съеденных им яблок и дроби, числителем которой является
число этих яблок, а знаменателем – номер шага, на котором было съедено
последнее яблоко. Функция приспособленности автомата муравьеда
вычисляется аналогично, но при этом вместо яблок используются муравьи.
В реализации задачи функции приспособленности автоматов особей
вычисляются следующим образом: по очереди выбирается автомат из
текущего поколения автоматов муравьедов, для него случайным образом из
текущего поколения автоматов муравьев выбирается заданное число k
автоматов. Муравьед и k муравьев, управляемые соответствующими
автоматами, размещаются на поле. Яблокам и муравьям генерируются
случайные начальные координаты, муравьям также генерируются случайные
начальные направления движения. Все участвующие в эксперименте особи
совершают заданное число шагов. Выбранным муравьеду и муравьям дается
определенное число попыток m на различных случайных полях (со
случайными координатами муравьев и яблок). При этом значения функции
приспособленности автомата каждой особи в отдельности со всех полей
суммируются, а в конце делятся на число совершенных попыток. В
результате для каждой особи получается среднее за m попыток число
съеденных ею единиц еды.
2
После вычисления значений функций приспособленности автоматов
всех муравьедов, если остаются автоматы муравьев, не поучаствовавшие в
эксперименте, то для каждого из них выбираются автомат муравьеда и
необходимое число автоматов муравьев. Вычисляются их функции
приспособленности.
При
этом
вычисленные
ранее
функции
приспособленности автоматов остаются после эксперимента с предыдущими
значениями.
Инструментальное средство, написанное для изучения изложенной
модели, позволяет сгенерировать автоматы, управляющие муравьедом и
муравьями, проследить процесс их получения, а также визуализировать поле
с особями, управляемыми полученными автоматами.
Для более детального рассмотрения задачи в инструментальном
средстве предусмотрено изменение таких параметров, как размерность поля,
заполненность поля яблоками, заполненность поля муравьями, начальное
направление движения муравьеда. Для автоматов муравьеда и муравья в
отдельности можно задать размер поколения, число состояний в автомате,
вероятность мутации, доля элиты в поколении, число попыток в
эксперименте (число случайных полей, на которых особь пытается
наилучшим образом справиться со своей задачей и повлиять на функцию
приспособленности своего автомата).
Главной частью интерфейса программы являются две вкладки, на
каждой из которых расположена диаграмма (рис. 2). На диаграмме из первой
вкладки строится график зависимости числа съеденных муравьев лучшим
муравьедом в поколении от номера сгенерированного поколения. На
диаграмме со второй вкладки строится график зависимости числа съеденных
яблок лучшим муравьем в поколении от номера сгенерированного
поколения. В верхнем правом углу диаграмм располагаются сведения о числе
сгенерированных на текущий момент поколений, о номере поколения, в
котором был получен лучший автомат и о числе съеденных особью,
управляемой этим автоматом, объектов (муравьев для муравьеда, яблок для
муравья).
3
Рис. 2. Главное окно
Внизу, под диаграммой, имеются две кнопки: одна для начала,
приостановки и продолжения генетического алгоритма, вторая («Показать
лучшего») для визуализации муравьеда и k (входной параметр) муравьев,
управляемых соответственно лучшим автоматом муравьеда и k различными
лучшими автоматами муравьев, полученными на момент нажатия кнопки.
При незапущенном или приостановленном алгоритме в пункте меню
«Файл» имеется возможность загрузить ранее сохраненное поколение и
продолжить генерацию автоматов с того места, на котором она была ранее
закончена. Если алгоритм приостановлен, можно сохранить текущее
поколение, либо сохранить в текстовый файл в понятном пользователю виде
лучший автомат (как муравьеда, так и муравья).
Через пункт меню «Правка» имеется возможность задавать и изменять
любой параметр эксперимента (рис. 3), а также язык интерфейса (русский,
английский).
4
Рис. 3. Окно «Изменение конфигурации»
В окне «Изменение конфигурации», открываемого из пункта меню
«Правка», при необходимости можно, нажав на кнопку «Сбросить»,
установить стандартные параметры, используя которые, авторы получили
изложенные ниже результаты.
После нажатия в главном окне на кнопку «Показать лучшего» на экране
появляется окно со случайно сгенерированным полем с расположенными на
нем муравьедом и муравьями, управляемыми лучшими из всех поколений
автоматами. Появляющееся окно также содержит кнопку «Далее», по
нажатию которой все особи, присутствующие на поле, делают следующий
свой шаг. В верхнем правом углу окна располагаются вспомогательные
данные, сообщающие о том, сколько шагов сделали особи, сколько съедено
яблок и муравьев, сколько муравьев погибло (как было сказано выше, если
муравей идет на клетку, где уже стоит другая особь, то он умирает).
Для более быстрого обучения муравьеда необходимо большее число
муравьев на поле. Аналогично для муравьев: они учатся съедать больше
яблок быстрее, если последних больше на поле.
По графику получения лучшего поколения муравьеда (рис. 4) видно, что
особь постепенно учится есть большее число муравьев (их 51 на поле). Так,
если вначале муравьед делает шаги случайным образом и чаще всего
вертится на месте, то уже к 50-му поколению прослеживается его стремление
догнать жертву, хотя иногда в нужный момент он не туда сворачивает. Чем
больше номер поколения, тем меньше подобных ошибок. Ближе к 2000-му
поколению муравьед уже уверенно преследует свою пищу, несмотря на то,
что та пытается от него убежать (муравьи отличают муравьеда от себе
подобных и яблок и постепенно учатся к нему не приближаться). В 6416-м
поколении значение функции приспособленности автомата муравьеда равно
26,13. В этом же опыте было получено значение 27,14 в 77555-м поколении.
5
Рис. 4. График зависимости числа съеденных муравьев от номера поколения муравьедов
На втором графике (рис. 5) виден процесс роста числа съеденных яблок
у муравьев от поколения к поколению. На результат (16,93 яблок в 65541-м
поколении) повлияло то, что муравьи фактически соревнуются между собой
за пищу (всего яблок на поле 307).
Рис. 5. График зависимости числа съеденных яблок от номера поколения муравьев
Авторы работы при помощи созданного инструментального средства
убедились в том, что генетические алгоритмы справляются с рассмотренной
задачей не хуже, чем с «Задачей об умном муравье-3». Однако при решении
задачи, рассматриваемой в настоящей работе, приходится ждать генерации
большего (по сравнению с «Задачей об умном муравье-3») числа поколений
для того, чтобы особь съела больше половины пищи. Это объясняется
подвижностью муравьев и их способностью убегать от муравьеда.
6
Литература
1.
2.
3.
4.
Поликарпова Н. И., Шалыто A. A. Автоматное программирование.
СПб.: Питер, 2009.
Яминов Б. Генетические алгоритмы.
http://rain.ifmo.ru/cat/view.php/theory/unsorted/genetic-2005
Бедный Ю. Д., Шалыто А. А. Применение генетических алгоритмов
для
построения автоматов
в задаче
«Умный
муравей».
http://is.ifmo.ru/works/ant
Давыдов А. А., Соколов Д. О., Царев Ф. Н., Шалыто А. А. Виртуальная
лаборатория обучения генетическому программированию для
генерации управляющих конечных автоматов / Сборник докладов III
Международной научно-практической конференции «Современные
информационные технологии и ИТ-образование». ВМК МГУ. М.:
МАКС Пресс, 2008, с. 179–183.
http://is.ifmo.ru/works/_2_93_davidov_sokolov.pdf
7

