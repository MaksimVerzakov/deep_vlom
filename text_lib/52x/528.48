УДК 528.48							 	Н.Ф. Добрынин
 А.А. Левицкий
Определение оптимальных рихтовок 
железнодорожного пути по материалам съемки 
электронным тахеометром
Необходимость определения оптимальных рихтовок пути возникает как при его текущем содержании, так и при проектировании капитального ремонта. Изложенные ниже методы полагают, что определение положения пути выполняется координированием лежащих на нем точек при помощи электронного тахеометра. Рассмотрим методы аппроксимации прямолинейных и криволинейных участков пути, а также нахождение оптимальных рихтовок. 
Пусть прямая дискретно зафиксирована некоторым количеством точек (n) в принятой для решения задачи плоской системе координат (x,y). Если за ось абсцисс принять прямую, направленную вдоль заданного поля определяемых ее точек, то уравнение этой прямой можно выразить так:
                                                                                                  (1)
в котором а0 и а неизвестные пока коэффициенты.
Для точек, расположенных на прямой (1), 
                                           (i=1,2,3,…, n).                       (2)
Применительно к решаемой задаче, отдельные точки (или все) могут лежать вне прямой и тогда вместо нуля в правой части появятся некоторые величины, отличные от нуля. Эти величины (δy) являются функциями удаления точек от прямой (1).
С учетом изложенного, уравнения (2) примут вид
                                                                                    (3)
В n уравнениях (3) n + 2 неизвестных (а0, а, δуi), поэтому они имеют бесчисленное множество решений. Из всех возможных решений этой системы уравнений оптимальным, на наш взгляд, будет такое, при котором сумма квадратов правой части системы окажется минимальной, что соответствует принципу наименьших квадратов, т. е.
                                                       [δy2]=min,                                                  (4)            
где [  ] – символ Гауссовой суммы.
В рассматриваемом случае реализация выражения (4) при решении системы уравнений (3) автоматически приведет к минимальным рихтовкам пути для придания ему прямолинейного направления.
Условие (4) всегда приводит к однозначному решению уравнений (3).
Сначала рассмотрим математическую основу предложенного способа, для чего обратимся к функции общего вида
                                               Ф = F(x1,x2,…,xn).                                     (а)
Из высшей математики известно, что любая функция (а) может быть представлена её приближенным значением и приращением F, т. е.
                                             Ф=FF.                             (b)
Если приближенное значение функции близко к её  истинной величине, то приращение F можно заменить дифференциалом. Тогда
                                 Ф=F+….      (5)
Как видим, решение задачи сводится к поиску поправок к приближенным значениям неизвестных . Если приближенные значения грубы, то применяют способ итераций для их уточнения.
Выражение (5) совместно с условием (4) и положим в основу решения уравнений (3).
Пусть нам известны приближенные значения неизвестных (а0), (а). Тогда вместо (3) получим
                                                          (6)
Теперь, на основании (5), уравнения (6) примут следующий вид:
                                                                       (7)
где
                                                           
т. е. величина (yi) подсчитывается по формуле (2) путем подстановки в неё приближенных значений определяемых неизвестных (а0) и (а).
Выполнив дифференцирование уравнений (6) по переменным δа0 и δа, с учетом (7) получим:
                                                                              (8)
Чтобы реализовать условия (4), необходимо возвести все уравнения (8) в квадрат и найти минимум полученной функции, т. е.
    (9)
Для нахождения минимума этой функции возьмем частные производные и приравняем их к нулю. Таких производных будет две (по числу неизвестных). Тогда
После приведения подобных и сокращения на 2 уравнения (10) (их называют нормальными) примут вид
                                                                     (11)
Решая полученные уравнения, найдем поправки к искомым неизвестным:
                                          
Таким образом, коэффициенты уравнения искомой прямой (1) будут найдены по следующим формулам:
                                                       
Осталось рассмотреть вопрос о нахождении приближенных значений (а0) и (а). Для этого достаточно составить два уравнения вида (1) для начальной и конечной точек прямой, т. е.:
                                                     
решение которых приведет к следующим результатам:
                                                                
Таким образом, найденные способом наименьших квадратов коэффициенты а0 и а определяют оптимальное размещение железнодорожного пути относительно всех задающих его реальное положение точек. Для расчета в этих точках величин рихтовок (fi) выясним геометрических смысл коэффициентов уравнения (1), для чего обратимся к рис. 1, на котором точками а и в зафиксировано реальное положение железнодорожного пути, прямой линией – проектное (после выполнения рихтовок) направление.
      

Рис. 1. Определение величины сдвижки (рихтовки) пути

При x=0 y=а0 (см. рис. 1), т. е. таков геометрический смысл первого коэффициента уравнения (1). Если у=0 (точка е), то , откуда и, как видно из рис. 1, это отношение есть tgφ. Следовательно, φ=arctgа, т. е. угол φ – это направление оси проектного пути относительно выбранного при съемке направления оси абсцисс.
Согласно рис. 1
     
При этом положительное значение fi указывает на то, что сдвигать путь необходимо вправо, а при fi<0 – влево относительно направления оси абсцисс.
Рассмотрим теперь аппроксимацию дискретно заданной кривой с целью определения рихтовок для придания ей формы круговой кривой.
Пусть кривая АВС дискретно задана точками m, l, k,…, координаты которых заданы в некоторой системе (х, у). Необходимо определить радиус этой кривой (R) и координаты ее центра (х0, у0).
Сначала найдем функциональную зависимость между R, x0 и y0, для чего обратимся к рис. 2, на котором вектор  () представлен координатами Δx и Δy и дирекционным углом α. Непосредственно из рис. 2 имеем
                (12)
где xi, yi – в общем случае, координаты некоторой точки, лежащей на кривой.
Применительно к решаемой задаче уравнение (12) содержит три неизвестных (R, x0, y0), для нахождения которых представим его в виде функции
                                 (13)
Поскольку функция (13) нелинейная и таких выражений будет столько, сколько точек (n) имеет кривая, и, как правило, n > 3, то поиск определяемых неизвестных осуществим с применением принципа наименьших квадратов.
Пусть нам известны приближенные значения определяемых неизвестных (R), (x0), (y0). Тогда функцию (13) можно представить в линейном виде уравнением поправок
                                                                         (14)
где ai, bi, ci – коэффициенты, суть частные производные от функции (13) по переменным R, x0, y0; υi – уклонения реальной кривой от ее правильного (проектного) положения; δR, δx0, δy0 – поправки к (R), (x0), (y0) и в данном случае искомые неизвестные (вместе с n поправками υi).
Частные производные имеют следующие значения:
                         
Свободный член l численно равен значению (13)  после подстановки в него приближенных (R), (x0), (y0).
Таким образом, будем иметь n уравнений (14) с (n+3) неизвестными.
По аналогии с предыдущими рассуждениями (см. формулы (5), (9),(10)) вместо уравнений поправок (14) получим три нормальных уравнения с тремя неизвестными δR, δx0, δy0, т. е.
   				          (15)
где
         (i= 1, 2, 3,…,n);
          
               
Решая уравнения (15), найдем поправки к определяемым неизвестным, а сами неизвестные вычислим по следующим формулам:
                                                        (16)
Если поправки к неизвестным велики, то вычислительный процесс продолжается, для чего вновь составляются уравнения поправок (14), но уже по уточненным значениям определяемых неизвестных. При этом изменятся как коэффициенты ai, bi, ci, так и свободные члены li. Итерации прекращаются когда поправки δR, δx0, δy0 станут пренебрежимо малыми.
Рассмотрим математический аппарат вычисления приближенных значений определяемых неизвестных.
Координаты x0 и y0 можно получить из совместного решения двух уравнений, составляемых для прямых, проходящих через середины хорд АВ и ВС (рис.2)  и перпендикулярно им, т. е. уравнений прямых ОЕ и OF, в пересечении которых лежит центр окружности. Не приводя математических выкладок, приведем их результаты:
          
где     
	           
     
Точность решения задачи будет зависеть от погрешностей определения координат точек на кривой, ее длины, а также от количества на ней точек, увеличение числа которых будет повышать надежность определения радиуса кривизны и координат центра круговой кривой.
Отклонение реальных точек от проектной кривой, параметрами которой являются величины R, x0 ,y0, будут минимальными, а величины рихтовок определятся по следующей формуле:
										(17)
где 

При положительном значении fi сдвижка пути должна производиться в сторону центра круговой кривой, при отрицательном – от него.
Проверка основных положений технологии приведения железнодорожного пути в проектное положение выполнена моделированием процесса съемки двух участков пути, один из которых представляет прямую линию с имитацией отклонений от нее отдельных точек, второй – круговую кривую, также отягощенную отклонениями от ее проектного положения.
На первом этапе эксперимента проверялась концепция минимизации величин рихтовок. Поскольку этот принцип использован для прямолинейных и криволинейных отрезков пути, то достаточно осуществить проверку алгоритма на одном из них. С этой целью проектное положение прямой линии задано уравнением (1) с использованием конкретных коэффициентов а0 и а, по которым и определены координаты пятидесяти точек. Все эти точки лежат на проектной прямой. Для имитации уклонений точек от прямой в данном эксперименте применен специальный способ их формирования, суть которого состоит в следующем. Согласно теории метода наименьших квадратов, если ее трактовать применительно к данному случаю, коэффициенты уравнения (1) останутся прежними при уклонениях точек от прямой, подчиняющихся нормальному закону их распределения, т. е. для заданной дисперсии уклонений математическое ожидание должно быть равным или близким к нулю. Тогда, реализуя рассмотренный выше алгоритм (формула (11)), вычисленные коэффициенты а0 и а, должны быть близкими к их истинным значениям.
Для реализации намеченного плана на языке Turbo Pascal составлена специальная программа, реализующая на ПЭВМ по формуле (1) процесс дискретного отражения проектной прямой по заданным коэффициентам а0, а и шагу Δх. Уклонения определялись по следующему алгоритму. 
Датчиками для формирования случайных (точнее, псевдослучайных) величин (), нормально распределенных в интервале от -1 до +1, являлись случайные положительные числа (), равномерно распределенные в интервале от 0 до +1. Последние вычислялись по следующей формуле:
,
где , а  - целая часть числа а.
В качестве первого случайного равномерно распределенного числа принимается любое число в интервале от 0 до +1, например, .
Нормально распределенные случайные числа определялись по формуле
										(19)
где 
 ;      .
В качестве дисперсии принята средняя квадратическая ошибка измерения длин линий электронным тахеометром, т. е. mS=5мм. Следовательно, уклонения реальных точек от прямой вычислялись так:
 .
Как видно из приведенного выше алгоритма знаки случайных величин определяются значениями , зависящими от величины , умноженных на .
Распределение уклонений реальных точек от прямой линии приведены в табл. 1. При этом точки равномерно распределены на оси абсцисс (Δх=10,0м), а коэффициенты уравнения (1), полученные случайным образом (из того же датчика случайных равномерно распределенных чисел) оказались равными следующим значениям: а0=10,000408, а=0,178178.
Таблица 1
Уклонения точек от прямой линии
Интервалы распределения уклонений () по абсолютной величине, мм
Количество уклонений
Сумма уклонений ([δy])
Сумма квадратов уклонений ([δy2])
0-2,0
20
+4
46
2,1-4,0
10
-17
153
4,1-6,0
16
-80
532
6,1-8,0
-
-
-
8,1-10,0
1
+10
100
10,1-12,0
1
+12
144
12,1-14,0
2
+27
365
Сумма 
50
-44
1340
В результате этого шага моделирования все точки получили некоторый сдвиг в плане, приводящий как бы к реальному положению железнодорожного пути, т. е. ординаты точек приняли значения
							       		      (20)
Следующим шагом эксперимента стало собственно решение задачи поиска оптимальных рихтовок, приводящих ломаную линию в прямую. При этом ожидалось, что коэффициенты а0 и а практически должны совпадать с их первоначальными значениями, а сумма квадратов рихтовок будет близка к той, что приведена в табл. 1, т. е.
										(21)
Результаты эксперимента приведены в табл. 2.
Коэффициенты уравнения прямой оказались действительно близкими к их первоначальным значениям (а0=10,000338, а=0,178184). Нарушения равенства (21) можно объяснить сравнительно коротким рядом случайных чисел , для которого закон нормального распределения не вполне соблюден, о чем свидетельствует и величина математического ожидания (-44). Да и сам алгоритм формирования псевдослучайных чисел создан для сравнительно длинных рядов и многократных испытаний. А данный эксперимент лишь подтвердил, что найденные методом наименьших квадратов параметры уравнения прямой (1) действительно удовлетворяют условию (4).
Таблица 2
Величины оптимальных рихтовок
Интервалы распределения рихтовок по абсолютной величине, мм
Количество рихтовок
Сумма рихтовок ([f])
Сумма квадратов рихтовок ([f 2])
0-2,0
18
-2
50
2,1-4,0
16
-10
200
4,1-6,0
10
-46
286
6,1-8,0
1
+7
49
8,1-10,0
1
+10
100
10,1-12,0
-
-
-
12,1-14,0
3
+41
561
Сумма 
50
0
1246
Для апробации метода специально для этих целей летом 2005 года на железнодорожной станции Хоста Северо-Кавказской железной дороги выполнена съемка противоположного от вокзала участка станционного пути (1979км), представляющего собой кривую разных по величине радиусов (1200м>R>300м), сопряженных короткими переходными кривыми, прямолинейными вставками с выходом (в сторону Адлера) на прямое направление. Съемка планового и высотного положения выполнена электронным тахеометром SET 610. Фиксировались положение оси головки внутреннего рельса с шагом 10-12 метров,  а  также предполагаемые концы  прямолинейных вставок.
В рамках данной публикации использованы лишь отдельные фрагменты материалов съемки, относящиеся к круговой кривой и прямолинейному участку пути, необходимые лишь для иллюстрации возможного применения метода на практике.
Длина прямолинейного участка пути составляла, примерно, 190м, криволинейного участка - 150м. Вычисленный радиус кривой составил 634,58м. А вычисленное по формулам, приведенным выше способом, приближенное значение радиуса равно 637,25м. Координаты центра круговой кривой: х0 = 422,994,       у0 = -154,489 и предварительные х0= 423,741, у0 = -157,433.
Ниже в табл. 3 приведены результаты обработки прямолинейного реального железнодорожного пути и кривой, снятых упомянутым тахеометром.
Как видим, сумма рихтовок  либо близка к нулю, либо равна ему. Следовательно, условие минимальности рихтовок пути соблюдено как на прямой, так и на круговой кривой.
Заметим, однако, что приведенные в таблицах величины рихтовок относятся к несопряженным между собой фрагментам пути на станции, ибо в рамках данной статьи такая задача пока еще не стояла. В ней разрабатывался лишь принципиальный подход к определению оптимальных сдвижек пути на его прямолинейных и криволинейных участках. Не менее принципиальной является проблема определения координат главных точек переходных и следующих за ними круговых кривых, длин прямолинейных вставок, а также необходимость обеспечения нормального сопряжения названных главных элементов железнодорожного пути. При этом следует учитывать и тот факт, что в силу объективных и субъективных причин на существующих железных дорогах (особенно в стесненных условиях) на криволинейных участках пути могут отсутствовать прямые вставки между смежными круговыми кривыми разных радиусов кривизны.
Таблица 3
Величины рихтовок участков прямой и круговой кривой 
железнодорожного пути на ст. Хоста
Прямая
Кривая 
Интервалы распределения рихтовок по абсолютной величине, мм
Количество рихтовок
Сумма рихтовок ([f])
Интервалы распределения рихтовок по абсолютной величине, мм
Количество рихтовок
Сумма рихтовок ([f])
0-15,0
9
+43
0-20,0
5
+15
15,1-30,0
6
-2
20,1-40,0
3
-89
30,1-45,0
3
+29
40,1-60,0
3
-40
45,1-70,0
1
-70
60,1-90,0
4
+115
Сумма 
19
0
Сумма
15
+1
Сопряжение сложных элементов кривых, на наш взгляд, возможно, если в процессе съемки визуально и хотя бы приближенно фиксировать концы прямолинейных участков пути. 


 
